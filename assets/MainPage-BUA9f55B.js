import{r as c,j as s,P as t}from"./index-DOIQE_aP.js";import{u as x}from"./usePostsApi-BJ2kZyfX.js";function u(n,i){const[d,o]=c.useState(n);return c.useEffect(()=>{const r=setTimeout(()=>{o(n)},i);return()=>{clearTimeout(r)}},[JSON.stringify(n)]),d}const j="_MainPage_27sng_1",a={MainPage:j,"MainPage-title":"_MainPage-title_27sng_15","MainPage-posts":"_MainPage-posts_27sng_21","MainPage-posts-list":"_MainPage-posts-list_27sng_33","MainPage-posts-pagination":"_MainPage-posts-pagination_27sng_43"},p=()=>{const[n,i]=c.useState(1);console.log(!0);const d=u(n,400),{queries:{getPostsQuery:o}}=x(),{data:r,isLoading:l,isError:g}=o(d);return l?s.jsx("div",{children:"Посты загружаются"}):g?s.jsx("div",{children:"Произошла ошибка"}):s.jsxs("div",{className:a.MainPage,children:[s.jsx("h2",{className:a["MainPage-title"],children:"Список постов"}),r.length===0?s.jsxs("div",{children:[s.jsx("p",{children:"Это последняя страница"}),s.jsx("button",{onClick:()=>i(1),children:"Вернутся на 1-ую страницу"})]}):s.jsxs("div",{className:a["MainPage-posts"],children:[s.jsxs("div",{className:a["MainPage-posts-pagination"],children:[s.jsx("button",{onClick:()=>i(e=>e>1?e-1:1),children:"<"}),s.jsx("p",{children:n}),s.jsx("button",{onClick:()=>i(e=>e+1),children:">"})]}),s.jsx("div",{className:a["MainPage-posts-list"],children:r.map(e=>s.jsxs(t,{children:[s.jsxs(t.Header,{children:[s.jsx(t.Header.Id,{id:String(e.id)}),s.jsx(t.Header.Title,{title:e.title}),s.jsx(t.Header.Button,{postId:e.id,buttonText:e.id===23?"Это 23 элемент":"Посмотреть"})]}),e.id===5?s.jsxs(t.Body,{children:[s.jsx("p",{children:"Вот здесь сделаем x3 текст чтобы видеть обрезание текста"}),s.jsx("p",{children:e.body}),s.jsxs("p",{children:["d ",e.body]}),s.jsxs("p",{children:["d ",e.body]})]}):s.jsx(t.Body,{children:s.jsx("p",{children:e.body})})]},e.id))}),s.jsxs("div",{className:a["MainPage-posts-pagination"],children:[s.jsx("button",{onClick:()=>i(e=>e>1?e-1:1),children:"<"}),s.jsx("p",{children:n}),s.jsx("button",{onClick:()=>i(e=>e+1),children:">"})]})]})]})};export{p as default};
